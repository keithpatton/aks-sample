name: $(Date:yyyyMMdd)$(Rev:.r)

trigger: none

resources:
- repo: self

variables: 
  - template: ../Templates/variables/root.yml   

stages:

- template: ../Templates/stage-teardown.yml
  parameters:
    svcConnAzureRm: $(svcConnAzureRmDefault)
    region: 'au1'
    env: 'dev'
    dependsOn: []

- template: ../Templates/stage-teardown.yml
  parameters:
    svcConnAzureRm: $(svcConnAzureRmDefault)
    region: 'au1'
    env: 'qa'
    dependsOn: []

- template: ../Templates/common-teardown.yml
  parameters:
    svcConnAzureRm: $(svcConnAzureRmDefault)
    region: 'au1'
    env: 'dev'
    dependsOn: [au1_dev,au1_qa]